---
title: "Managing Multiple Users and Their Authentication with Composio"
sidebarTitle: "Managing Multiple Users"
icon: "plug"
description: "Managing multiple users and their associated accounts can be a daunting task, especially when it comes to maintaining security and efficient administration. Composio simplifies this process by using entities to represent users and organizations, consolidating their accounts under a single management umbrella. This page will walk you through the basics of managing multiple users and their authentication using Composio."
---

### Introduction to Entities

In Composio, an entity encapsulates all associated accounts for either a user or an organization. This consolidation simplifies the administration of multiple accounts, allowing you to manage them seamlessly. An entity can be identified using any unique identifier, such as an email address.

### Creating and Managing Entities

To create or retrieve an entity for a user, you can use their unique identifier. Here’s an example in Python:

<CodeGroup>
```python python
from composio import Composio

composio_client = Composio(api_key="COMPOSIO_API_KEY")
entity = composio_client.get_entity(id='user_email_id')
```
</CodeGroup>

Once you have the entity, you can manage the connected accounts. If an account is not connected, you can prompt the user to connect their account.

### Getting Connected Accounts

To get the connected accounts for an entity, you can use the following code:
<CodeGroup>
```python python

try:
    connected_account  = entity.get_connection(app="slack")
except Exception as e:
    print("No connected account found")

```
</CodeGroup>
This code attempts to retrieve the connected account for Slack. If no connected account is found, it catches the exception and prints a message.

### Performing Actions on Behalf of Users

Composio allows you to perform actions on behalf of users. For example, you can fetch all available actions that can be performed on GitHub:
<CodeGroup>
```python python

actions = entity.get_actions(app_name=App.GITHUB)
```
</CodeGroup>

With the actions fetched, you can configure an agent to perform tasks on GitHub on behalf of the user. Here’s an example:
<CodeGroup>
```python python

from composio_openai import ComposioToolSet, App
from openai import OpenAI

openai_client = OpenAI(api_key="******OPENAIKEY******")
tool_set = ComposioToolSet(entity_id="melissa")
actions = tool_set.get_tools(apps=[App.GITHUB])

my_task = "Star a repo ComposioHQ/composio on GitHub"

response = openai_client.chat.completions.create(
    model="gpt-4-turbo-preview",
    tools=actions,
    messages=[
        {"role": "system", "content": "You are a helpful assistant."},
        {"role": "user", "content": my_task},
    ],
)
tool_set.handle_tool_calls(response=response, entity_id="melissa")

```
</CodeGroup>

In this example, an agent is configured to star a repository on GitHub on behalf of the user. The OpenAI API is used to process the request and perform the action.

### Conclusion

Managing multiple users and their authentication can be streamlined with Composio’s entity-based approach. By encapsulating users and organizations under a single management umbrella, Composio simplifies the administration of connected accounts and actions. With this approach, you can efficiently manage multiple users and perform tasks on their behalf, enhancing productivity and security.
