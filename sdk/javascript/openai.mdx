---
title: "Using Composio JS SDK with OpenAI"
sidebarTitle: "With OpenAI"
icon: "code"
description: "Use Composio JS SDK with OpenAI"
---

ðŸ“‹ To check the reference for OpenAI, visit [here](https://composiohq.github.io/composio-js/classes/frameworks_openai.OpenAIToolSet.html)

<Steps>
<Step title="Import Dependencies">
 <CodeGroup>
      ```javascript Import OpenAI and OpenAIToolSet
import { OpenAI } from "openai";
import { OpenAIToolSet } from "composio-core";
      ```
    </CodeGroup>
</Step>
<Step title="Define method to ask user to login">

 <CodeGroup>
      ```typescript Define method to ask user to login
const toolset = new OpenAIToolSet({
    apiKey: process.env.COMPOSIO_API_KEY,
});

async function setupUserConnectionIfNotExists(entityId) {
    const entity = await toolset.client.getEntity(entityId);
    const connection = await entity.getConnection('github');
    if (!connection) {
        const connection = await entity.initiateConnection(appName);
        console.log("Log in via: ", connection.redirectUrl);
        return connection.waitUntilActive(60);
    }
    return connection;
}
      ```
    </CodeGroup>

The entityId is defined by your project, composio handle authentication with tools and performing action on this entity.

</Step>

<Step title="Setup agent with langchain">

<CodeGroup>
      ```typescript Define your agent
async function executeAgent(entityName) {
    const entity = await toolset.client.getEntity(entityName)
    await setupUserConnectionIfNotExists(entity.id);

    const tools = await toolset.get_actions({ actions: ["github_issues_create"] }, entity.id);
    const instruction = "Make an issue with sample title in the repo - himanshu-dixit/custom-repo-breaking"

    const client = new OpenAI({ apiKey: process.env.OPEN_AI_API_KEY })
    const response = await client.chat.completions.create({
        model: "gpt-4-turbo",
        messages: [{
            role: "user",
            content: instruction,
        }],
        tools: tools,
        tool_choice: "auto",
    })

    console.log(response.choices[0].message.tool_calls);
    await toolset.handle_tool_call(response, entity.id);
}

      ```
    </CodeGroup>

</Step>

<Step title="Invoke your agent">

<CodeGroup>
      ```typescript  Invoke the agent
      executeGithubAgent("himanshu")
      ```
    </CodeGroup>

Tada ðŸŽ‰! It was this simple to create a powerful agent with composio and OpenAI.
</Step>

<Step title="Complete code snippet">

View the full snippet [here](https://github.com/ComposioHQ/composio-js/blob/main/examples/openai/sample.mjs)
</Step>
</Steps>


